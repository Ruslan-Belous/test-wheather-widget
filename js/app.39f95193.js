(function(e){function t(t){for(var r,i,o=t[0],c=t[1],l=t[2],u=0,h=[];u<o.length;u++)i=o[u],Object.prototype.hasOwnProperty.call(n,i)&&n[i]&&h.push(n[i][0]),n[i]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);d&&d(t);while(h.length)h.shift()();return s.push.apply(s,l||[]),a()}function a(){for(var e,t=0;t<s.length;t++){for(var a=s[t],r=!0,o=1;o<a.length;o++){var c=a[o];0!==n[c]&&(r=!1)}r&&(s.splice(t--,1),e=i(i.s=a[0]))}return e}var r={},n={app:0},s=[];function i(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=r,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(a,r,function(t){return e[t]}.bind(null,r));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/test-wheather-widget/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var d=c;s.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"1ebb":function(e,t,a){e.exports=a.p+"img/wind.e6d2b0f8.png"},2020:function(e,t,a){},2240:function(e,t,a){},2612:function(e,t,a){},2791:function(e,t,a){"use strict";a("64ff")},"2f68":function(e,t,a){},"2fcd":function(e,t,a){},"379e":function(e,t,a){"use strict";a("2fcd")},"3f16":function(e,t,a){"use strict";a("a63e")},"56d7":function(e,t,a){"use strict";a.r(t);var r=a("2b0e"),n=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[t("the-header"),t("v-main-container"),t("the-footer")],1)},s=[],i=function(){var e=this,t=e._self._c;return t("footer",{staticClass:"footer"},[t("div",{staticClass:"container"},[t("fa",{staticClass:"footer__logo",attrs:{icon:"fa-cloud-moon-rain"}}),e._m(0)],1)])},o=[function(){var e=this,t=e._self._c;return t("h1",[t("span",[e._v("W")]),e._v("eather widget")])}],c={name:"the-footer"},l=c,d=(a("83a4"),a("2877")),u=Object(d["a"])(l,i,o,!1,null,"4e6a77d1",null),h=u.exports,p=function(){var e=this,t=e._self._c;return t("header",{staticClass:"header"},[t("div",{staticClass:"header__home container"},[t("fa",{staticClass:"header__logo",attrs:{icon:"fa-cloud-moon-rain"}}),e._m(0)],1)])},f=[function(){var e=this,t=e._self._c;return t("h1",[t("span",[e._v("W")]),e._v("eather widget")])}],_={name:"the-header"},m=_,g=(a("5c8b"),Object(d["a"])(m,p,f,!1,null,"ec3f2d64",null)),v=g.exports,b=function(){var e=this,t=e._self._c;return t("main",{staticClass:"main-container container"},[e.loadingCurPlace?t("v-loader",{staticClass:"loader"}):t("div",[t("v-weather-item",{attrs:{weatherItemData:e.weatherDetail,isActiveCard:!0}}),t("v-search-form"),t("p",{staticClass:"error"},[e._v(e._s(e.error))]),e._l(e.paginatedPlaces,(function(e){return t("v-weather-item",{key:e.id,attrs:{weatherItemData:e,isBtnVisible:!0}})})),e.isPaginationPageVisible?t("div",{staticClass:"pagination"},e._l(e.pages,(function(a,r){return t("div",{key:r,staticClass:"pagination__page",class:{"pagination__active-page":a===e.pageNum},on:{click:function(t){return e.pageClick(a)}}},[e._v(" "+e._s(a)+" ")])})),0):e._e()],2),t("v-scroll-up")],1)},w=[],C=a("2f62"),y=function(){var e=this;e._self._c;return e._m(0)},D=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"v-loader lds-facebook"},[t("div"),t("div"),t("div")])}],P={name:"v-loader"},A=P,E=(a("8bb5"),Object(d["a"])(A,y,D,!1,null,"68e2571b",null)),I=E.exports,O=function(){var e=this,t=e._self._c;return t("div",{staticClass:"search-box-wrapp"},[t("form",{staticClass:"search-box",on:{submit:function(t){return t.preventDefault(),e.getWheather.apply(null,arguments)}}},[t("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.coords.lat,expression:"coords.lat",modifiers:{trim:!0}}],attrs:{type:"text",placeholder:"Please enter latitude ?"},domProps:{value:e.coords.lat},on:{input:function(t){t.target.composing||e.$set(e.coords,"lat",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),t("input",{directives:[{name:"model",rawName:"v-model.trim",value:e.coords.lon,expression:"coords.lon",modifiers:{trim:!0}}],attrs:{type:"text",placeholder:"Please enter longitude ?"},domProps:{value:e.coords.lon},on:{input:function(t){t.target.composing||e.$set(e.coords,"lon",t.target.value.trim())},blur:function(t){return e.$forceUpdate()}}}),t("v-button",{staticClass:"search-box__btn",attrs:{type:"submit",primary:!0,disabled:!e.canSearch,btnTitle:"Get weather",prependBtnIcon:"magnifying-glass"}})],1),e.loadingAddPlace?t("v-loader"):e._e()],1)},L=[],T=function(){var e=this,t=e._self._c;return t("button",{staticClass:"btn",class:e.className,on:{click:e.btnAction}},[e.prependBtnIcon?t("fa",{staticClass:"btn__icon",attrs:{icon:e.prependBtnIcon}}):e._e(),e._v(" "+e._s(e.btnTitle)+" "),e.appendBtnIcon?t("fa",{staticClass:"btn__icon",attrs:{icon:e.appendBtnIcon}}):e._e()],1)},N=[],j={name:"custom-btn",props:{btnTitle:{type:String,default:"press"},disabled:{type:Boolean,default:!1},secondary:{type:Boolean,default:!1},primary:{type:Boolean,default:!1},appendBtnIcon:{type:String,default:""},prependBtnIcon:{type:String,default:""}},computed:{className(){return{btn__disabled:this.disabled,btn__primary:this.primary,btn__secondary:this.secondary}}},methods:{btnAction(){this.$emit("click")}}},x=j,S=(a("379e"),Object(d["a"])(x,T,N,!1,null,null,null)),k=S.exports,B={components:{VButton:k,VLoader:I},name:"v-search-form",data:()=>({coords:{lat:"",lon:""}}),computed:{...Object(C["e"])(["loadingAddPlace"]),canSearch(){return this.coords.lat&&this.coords.lon}},methods:{...Object(C["b"])(["getWeatherByLatLon"]),...Object(C["d"])(["UPDATE_WEATHER","SET_LATITUDE","SET_LONGITUDE","CHANGE_LOADING_ADD_PLACE","SET_ERROR"]),async getWheather(){this.coords.lat&&this.coords&&(this.SET_ERROR(""),this.CHANGE_LOADING_ADD_PLACE(!0),await this.getWeatherByLatLon(this.coords),this.CHANGE_LOADING_ADD_PLACE(!1)),this.coords.lat="",this.coords.lon=""}}},W=B,R=(a("6e15"),Object(d["a"])(W,O,L,!1,null,"d12ef196",null)),M=R.exports,U=function(){var e=this,t=e._self._c;return t("div",{staticClass:"wheather-item",class:e.className},[t("div",{staticClass:"wheather-item__name"},[e._v(e._s(e.weatherItemData.name)+", "+e._s(e.weatherItemData.sys.country))]),t("div",{staticClass:"wheather-details"},[t("div",{staticClass:"wheather-details__left-wrapp"},[t("div",{staticClass:"wheather-details__desc-temp-wrapp"},[t("p",{staticClass:"wheather-details__description"},[e._v(" "+e._s(e.weatherDesc)+" ")]),t("p",{staticClass:"wheather-details__temp"},[e._v(e._s(e.weatherCurTemp)+"°")])]),t("div",{staticClass:"wheather-details__icon"},[e.isIconVisible?t("img",{attrs:{src:e.weatherIcon}}):e._e()])]),t("div",{staticClass:"wheather-details__right-wrapp"},[t("p",{staticClass:"wheather-details__min-temp"},[t("span",[e._v("Min:")]),e._v(" "+e._s(e.weatherMinTemp)+" °C")]),t("p",{staticClass:"wheather-details__max-temp"},[t("span",[e._v("Max:")]),e._v(" "+e._s(e.weatherMaxTemp)+" °C")])])]),t("div",{staticClass:"wheather-details-footer"},[t("div",{staticClass:"wheather-details-footer__wind-wrapp"},[t("img",{staticClass:"icon",attrs:{src:e.windIcon,alt:"Wind icon"}}),t("p",[e._v(e._s(e.weatherSpeed)+" km/h")]),t("p",[e._v(e._s(e.weatherWindDirection))])]),t("div",{staticClass:"wheather-details-footer__humidity-wrapp"},[t("img",{staticClass:"icon",attrs:{src:e.humidityIcon,alt:"Wind icon"}}),t("p",[e._v(e._s(e.weatherHumidity)+" %")])]),t("div",{staticClass:"wheather-details-footer__pressure-wrapp"},[t("img",{staticClass:"icon",attrs:{src:e.pressureIcon,alt:"Wind icon"}}),t("p",[e._v(e._s(e.weatherPressure)+" mb")])])]),e.isBtnVisible?t("v-button",{staticClass:"wheather-item__btn",attrs:{btnTitle:"Delete"},on:{click:e.deletePlace}}):e._e()],1)},V=[],G=a("1ebb"),H=a.n(G),$=a("9224"),F=a.n($),J=a("abb9"),q=a.n(J),Y={components:{vButton:k},name:"v-wheather-item",props:{weatherItemData:{type:Object,default(){return{}}},isBtnVisible:{type:Boolean,default:!1},isActiveCard:{type:Boolean,default:!1}},data:()=>({windIcon:H.a,humidityIcon:F.a,pressureIcon:q.a}),computed:{...Object(C["c"])(["weatherIcon"]),isIconVisible(){const e=this.weatherItemData;return!(1851632===e.id&&!e.weather[0].icon)},weatherIcon(){return this.weatherItemData.weather[0].icon},weatherDesc(){return this.weatherItemData.weather[0].description},weatherCurTemp(){return Math.trunc(this.weatherItemData.main.temp)},weatherMinTemp(){return Math.trunc(this.weatherItemData.main.temp_min)},weatherMaxTemp(){return Math.trunc(this.weatherItemData.main.temp_max)},weatherSpeed(){return this.weatherItemData.wind.speed},weatherWindDirection(){function e(e){let t=["Northerly","North Easterly","Easterly","South Easterly","Southerly","South Westerly","Westerly","North Westerly"];e<0?e=360-Math.abs(e)%360:e%=360;let a=parseInt(e/45);return""+t[a]}let t=this.weatherItemData.wind.deg;return e(t)},weatherHumidity(){return this.weatherItemData.main.humidity},weatherPressure(){return this.weatherItemData.main.pressure},className(){return{"active-card-bg":this.isActiveCard}}},methods:{...Object(C["d"])(["UPDATE_WEATHER","ADD_NEW_DATA","CHANGE_LOADING","DELETE_PLACE"]),...Object(C["b"])(["getWeatherByLatLon"]),addCard(){this.ADD_NEW_DATA(this.weatherItemData)},deletePlace(){this.DELETE_PLACE(this.weatherItemData.id)}}},z=Y,K=(a("e637"),Object(d["a"])(z,U,V,!1,null,"59c23d34",null)),Q=K.exports,X=function(){var e=this,t=e._self._c;return t("transition",{attrs:{name:"fade"}},[e.isBtnUpShown?t("div",{staticClass:"button-up",on:{click:e.scrollUp}},[t("fa",{staticClass:"button-up__icon",attrs:{icon:"fa-solid fa-angle-up"}})],1):e._e()])},Z=[],ee={name:"v-scroll-up",data(){return{isBtnUpShown:!1}},mounted(){this.checkScrollPosition(),window.addEventListener("scroll",this.checkScrollPosition)},methods:{checkScrollPosition(){this.isBtnUpShown=window.pageYOffset>30},scrollUp(){scroll({top:0,behavior:"smooth"})}}},te=ee,ae=(a("2791"),Object(d["a"])(te,X,Z,!1,null,"82185e38",null)),re=ae.exports,ne=function(){var e=this,t=e._self._c;return t("div",{staticClass:"pagination"},e._l(e.pages,(function(a,r){return t("div",{key:r,staticClass:"pagination__page",on:{click:function(t){return e.pageClick(a)}}},[e._v(" "+e._s(a)+" ")])})),0)},se=[],ie={name:"v-pagination",data:()=>({pageNum:1,placePerPage:2}),props:{arrData:{type:Array,default(){return[]}}},computed:{isPaginationPageVisible(){return this.arrData.length>5},pages(){return Math.ceil(this.arrData.length/2)}},methods:{pageClick(e){this.pageNum=e,this.$emit("page-changed",e)}}},oe=ie,ce=(a("3f16"),Object(d["a"])(oe,ne,se,!1,null,"0b76169b",null)),le=ce.exports,de={components:{VSearchForm:M,VWeatherItem:Q,VLoader:I,VScrollUp:re,VPagination:le},name:"v-main-container",data:()=>({loadingCurPlace:!0,placesPerPage:5,pageNum:1}),async mounted(){const e=async e=>{const t={lat:e.coords.latitude,lon:e.coords.longitude};await this.getWeatherByLatLon(t),this.loadingCurPlace=!1},t=e=>{console.log(t)};navigator.geolocation.getCurrentPosition(e,t)},computed:{...Object(C["e"])(["places","weatherDetail","error"]),pages(){return Math.ceil(this.places.length/5)},isPaginationPageVisible(){return this.places.length>5},paginatedPlaces(){let e=(this.pageNum-1)*this.placesPerPage,t=e+this.placesPerPage;return this.places.slice(e,t)}},methods:{...Object(C["b"])(["getWeatherByLatLon"]),pageClick(e){this.pageNum=e}}},ue=de,he=(a("7cc5"),Object(d["a"])(ue,b,w,!1,null,"24b15aca",null)),pe=he.exports,fe={components:{TheHeader:v,TheFooter:h,VMainContainer:pe}},_e=fe,me=(a("6a78"),Object(d["a"])(_e,n,s,!1,null,null,null)),ge=me.exports,ve=a("9483");Object(ve["a"])("/test-wheather-widget/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(e){console.error("Error during service worker registration:",e)}});var be=a("bc3a"),we=a.n(be),Ce=we.a.create({baseURL:"https://fcc-weather-api.glitch.me/api/current"}),ye=a("0e44");r["a"].use(C["a"]);var De=new C["a"].Store({state:{loadingCurPlace:!0,loadingAddPlace:!1,weatherDetail:{},places:[],error:""},plugins:[Object(ye["a"])({paths:["places"]})],mutations:{UPDATE_WEATHER_DETAIL:(e,t)=>e.weatherDetail=t,CHANGE_LOADING_CUR_PLACE:(e,t)=>e.loadingCurPlace=t,CHANGE_LOADING_ADD_PLACE:(e,t)=>e.loadingAddPlace=t,ADD_PLACE:(e,t)=>{e.places.some(e=>e.id===t.id)||t.id===e.weatherDetail.id||e.places.unshift(t)},DELETE_PLACE:(e,t)=>e.places=e.places.filter(e=>e.id!==t),SET_ERROR:(e,t)=>e.error=t},actions:{async getWeatherByLatLon({state:e,commit:t},a){var r;const n=await Ce.get("",{params:a}).catch(e=>{console.log(e)});null!==(r=n.data)&&void 0!==r&&r.error&&t("SET_ERROR",n.data.error),Object.keys(e.weatherDetail).length?t("ADD_PLACE",n.data):t("UPDATE_WEATHER_DETAIL",n.data)}},getters:{},modules:{}}),Pe=(a("d06d"),a("927c"),a("2612"),a("ecee")),Ae=a("ad3d"),Ee=a("c074"),Ie=a("b702"),Oe=a("f2d1");a("d1e7");Pe["c"].add(Ee["a"],Ie["a"],Oe["a"]),r["a"].component("fa",Ae["a"]),r["a"].config.productionTip=!1,new r["a"]({store:De,render:e=>e(ge)}).$mount("#app")},"5c8b":function(e,t,a){"use strict";a("ed97")},"64ff":function(e,t,a){},"6a78":function(e,t,a){"use strict";a("2240")},"6e15":function(e,t,a){"use strict";a("9c85")},"7cc5":function(e,t,a){"use strict";a("b257")},"83a4":function(e,t,a){"use strict";a("afa1")},"8bb5":function(e,t,a){"use strict";a("2f68")},9224:function(e,t,a){e.exports=a.p+"img/humidity.f03d0404.png"},"927c":function(e,t,a){},"9c85":function(e,t,a){},a63e:function(e,t,a){},abb9:function(e,t,a){e.exports=a.p+"img/pressure.7780fa1b.png"},afa1:function(e,t,a){},b257:function(e,t,a){},e637:function(e,t,a){"use strict";a("2020")},ed97:function(e,t,a){}});
//# sourceMappingURL=app.39f95193.js.map